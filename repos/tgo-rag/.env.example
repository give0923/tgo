# TGO RAG Service Environment Configuration
# Copy this file to .env and update the values for your environment

# Application Settings
APP_NAME="TGO RAG Service"
APP_VERSION="0.1.0"
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=debug

# Server Settings
HOST=0.0.0.0
PORT=8082
WORKERS=1
RELOAD=true

# Database Settings
DATABASE_URL=postgresql+asyncpg://rag_user:rag_password@localhost:5432/rag_service
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30
DATABASE_POOL_TIMEOUT=30

# Redis Settings
REDIS_URL=redis://:redis_password@localhost:6379/0
REDIS_PASSWORD=redis_password
REDIS_DB=0

# Authentication Settings
JWT_SECRET_KEY=change-this-in-production-to-a-secure-random-string
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
API_KEY_HEADER=X-API-Key

# CORS Settings
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8080", "http://localhost:8082"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["GET", "POST", "PUT", "DELETE", "PATCH", "OPTIONS"]
CORS_ALLOW_HEADERS=["*"]

# File Upload Settings
MAX_FILE_SIZE=104857600  # 100MB in bytes
UPLOAD_DIR=uploads
ALLOWED_FILE_TYPES=["application/pdf", "application/msword", "application/vnd.openxmlformats-officedocument.wordprocessingml.document", "text/plain", "text/markdown", "text/html"]

# Document Processing Settings
CHUNK_SIZE=1000
CHUNK_OVERLAP=200
BATCH_SIZE=50
MAX_CONCURRENT_TASKS=10

# Embedding Provider Configuration
EMBEDDING_PROVIDER=qwen3

# OpenAI-Embedding Settings
OPENAI_API_KEY=your-openai-api-key-here
EMBEDDING_MODEL=text-embedding-ada-002
EMBEDDING_DIMENSIONS=1536
EMBEDDING_BATCH_SIZE=10

# Qwen3-Embedding Settings
QWEN3_API_KEY=your_dashscope_api_key
QWEN3_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
QWEN3_MODEL=text-embedding-v4
QWEN3_DIMENSIONS=1536

# Search Settings
DEFAULT_SEARCH_LIMIT=20
MAX_SEARCH_LIMIT=100
MIN_SIMILARITY_SCORE=0.0
SEMANTIC_SEARCH_WEIGHT=0.7
KEYWORD_SEARCH_WEIGHT=0.3

# Rate Limiting Settings
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# Monitoring Settings
METRICS_ENABLED=true
TRACING_ENABLED=false
HEALTH_CHECK_INTERVAL=30

# Celery Settings (will use Redis URL if not specified)
CELERY_BROKER_URL=redis://:redis_password@localhost:6379/0
CELERY_RESULT_BACKEND=redis://:redis_password@localhost:6379/0
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_TIMEZONE=UTC
